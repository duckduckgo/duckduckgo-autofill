<!--
  https://opensource.org/join
  testRunId: 66
  testResultId: 235794
-->
<form action="https://members.opensource.org/join/?civiwp=CiviCRM&amp;q=civicrm%2Fcontribute%2Ftransact" method="post" name="Main" id="Main" class="CRM_Contribute_Form_Contribution_Main" enctype="multipart/form-data" data-warn-changes="true" novalidate="novalidate" data-ddg-formtype="sign up">
  <div>
    <input name="qfKey" type="hidden" value="CRMContributeControllerContribution44s1k0zrcfi8swck0wsoo0kgs0kgow0o8ko4c8o00ggss8o00k_3194">
    <input name="entryURL" type="hidden" value="https://members.opensource.org/join/?civiwp=CiviCRM&amp;amp;q=civicrm%2Fcontribute%2Ftransact&amp;id=1&amp;reset=1">
    <input name="hidden_processor" type="hidden" value="1">
    <input name="payment_processor_id" type="hidden" value="1">
    <input name="priceSetId" type="hidden" value="4">
    <input id="selectProduct" name="selectProduct" type="hidden" value="">
    <input name="cms_create_account" type="hidden" value="1">
    <input name="_qf_default" type="hidden" value="Main:upload">
    <input name="MAX_FILE_SIZE" type="hidden" value="524288000">
  </div>

  <script type="text/javascript">
    // Putting these functions directly in template so they are available for standalone forms
    function useAmountOther() {
      var priceset = 0;

      for (i = 0; i < document.Main.elements.length; i++) {
        element = document.Main.elements[i];
        if (element.type == "radio" && element.name == priceset) {
          if (element.value == "0") {
            element.click();
          } else {
            element.checked = false;
          }
        }
      }
    }

    function clearAmountOther() {
      var priceset = 0;
      if (priceset) {
        cj(priceset).val("");
        cj(priceset).blur();
      }
      if (document.Main.amount_other == null) return; // other_amt field not present; do nothing
      document.Main.amount_other.value = "";
    }
  </script>

  <div class="crm-contribution-page-id-1 crm-block crm-contribution-main-form-block" data-page-id="1" data-page-template="main">
    <div id="intro_text" class="crm-public-form-item crm-section intro_text-section">
      <p>
        OSI Individual Members support the mission of the Open Source
        Initiative: to educate about and advocate for the benefits of open
        source and to build bridges among different constituencies in the open
        source community.&nbsp; For more information about Individual
        Membership, please see
        <a href="https://opensource.org/members/">opensource.org/members</a>.
      </p>

      <p>Membership will last 12 months.</p>

      <p>
        <strong>PLEASE NOTE: </strong><em>automatic membership renewals require an active
          <u><strong>PayPal </strong></u>account, which may be connected to your
          bank account, debit card, or credit card.</em>
      </p>
    </div>

    <div class="crm-public-form-item crm-section">
      <div id="membership" class="crm-group membership-group">
        <div id="priceset">
          <fieldset>
            <legend>New Membership</legend>

            <div id="priceset" class="crm-section price_set-section">
              <div class="crm-section membership_amount-section crm-price-field-id-5">
                <div class="label">
                  <label>
                    Membership
                    <span class="crm-marker" title="This field is required.">*</span>
                  </label>
                </div>
                <div class="content membership_amount-content">
                  <div class="price-set-row membership_amount-row1">
                    <span class="price-set-option-content highlight"><input price="[&quot;price_5&quot;,&quot;50||&quot;]" data-amount="50.000000000" data-currency="USD" data-price-field-values="{&quot;10&quot;:{&quot;id&quot;:&quot;10&quot;,&quot;price_field_id&quot;:&quot;5&quot;,&quot;name&quot;:&quot;Individual&quot;,&quot;label&quot;:&quot;Supporting&quot;,&quot;amount&quot;:&quot;50.000000000&quot;,&quot;weight&quot;:&quot;1&quot;,&quot;membership_type_id&quot;:&quot;1&quot;,&quot;membership_num_terms&quot;:&quot;1&quot;,&quot;is_default&quot;:&quot;1&quot;,&quot;is_active&quot;:&quot;1&quot;,&quot;financial_type_id&quot;:&quot;2&quot;,&quot;non_deductible_amount&quot;:&quot;0.00&quot;,&quot;visibility_id&quot;:&quot;1&quot;},&quot;63&quot;:{&quot;id&quot;:&quot;63&quot;,&quot;price_field_id&quot;:&quot;5&quot;,&quot;name&quot;:&quot;Professional&quot;,&quot;label&quot;:&quot;Professional&quot;,&quot;amount&quot;:&quot;300.000000000&quot;,&quot;weight&quot;:&quot;2&quot;,&quot;membership_type_id&quot;:&quot;8&quot;,&quot;membership_num_terms&quot;:&quot;1&quot;,&quot;is_default&quot;:&quot;0&quot;,&quot;is_active&quot;:&quot;1&quot;,&quot;financial_type_id&quot;:&quot;2&quot;,&quot;non_deductible_amount&quot;:&quot;0.00&quot;,&quot;visibility_id&quot;:&quot;1&quot;}}" visibility="1" onclick="return showHideAutoRenew(1);" membership-type="1" class="crm-form-radio" value="10" type="radio" id="CIVICRM_QFID_10_price_5" name="price_5" checked="checked" title="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Supporting - $ 50.00
parseable name: price_5
section: price_5_0_55
field signature: 4169866883
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 55" autofill-information="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Supporting - $ 50.00
parseable name: price_5
section: price_5_0_55
field signature: 4169866883
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 55" autofill-prediction="UNKNOWN_TYPE" data-ddg-testresultelementid="518629"><label for="CIVICRM_QFID_10_price_5"><span class="crm-price-amount-label">Supporting</span><span class="crm-price-amount-label-separator">&nbsp;-&nbsp;</span><span class="crm-price-amount-amount">$ 50.00</span></label></span>
                  </div>
                  <div class="price-set-row membership_amount-row2">
                    <span class="price-set-option-content"><input price="[&quot;price_5&quot;,&quot;300||&quot;]" data-amount="300.000000000" data-currency="USD" data-price-field-values="{&quot;10&quot;:{&quot;id&quot;:&quot;10&quot;,&quot;price_field_id&quot;:&quot;5&quot;,&quot;name&quot;:&quot;Individual&quot;,&quot;label&quot;:&quot;Supporting&quot;,&quot;amount&quot;:&quot;50.000000000&quot;,&quot;weight&quot;:&quot;1&quot;,&quot;membership_type_id&quot;:&quot;1&quot;,&quot;membership_num_terms&quot;:&quot;1&quot;,&quot;is_default&quot;:&quot;1&quot;,&quot;is_active&quot;:&quot;1&quot;,&quot;financial_type_id&quot;:&quot;2&quot;,&quot;non_deductible_amount&quot;:&quot;0.00&quot;,&quot;visibility_id&quot;:&quot;1&quot;},&quot;63&quot;:{&quot;id&quot;:&quot;63&quot;,&quot;price_field_id&quot;:&quot;5&quot;,&quot;name&quot;:&quot;Professional&quot;,&quot;label&quot;:&quot;Professional&quot;,&quot;amount&quot;:&quot;300.000000000&quot;,&quot;weight&quot;:&quot;2&quot;,&quot;membership_type_id&quot;:&quot;8&quot;,&quot;membership_num_terms&quot;:&quot;1&quot;,&quot;is_default&quot;:&quot;0&quot;,&quot;is_active&quot;:&quot;1&quot;,&quot;financial_type_id&quot;:&quot;2&quot;,&quot;non_deductible_amount&quot;:&quot;0.00&quot;,&quot;visibility_id&quot;:&quot;1&quot;}}" visibility="1" onclick="return showHideAutoRenew(8);" membership-type="8" class="crm-form-radio" value="63" type="radio" id="CIVICRM_QFID_63_price_5" name="price_5" title="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Professional - $ 300.00
parseable name: price_5
section: price_5_0_55
field signature: 4169866883
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 56" autofill-information="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Professional - $ 300.00
parseable name: price_5
section: price_5_0_55
field signature: 4169866883
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 56" autofill-prediction="UNKNOWN_TYPE" data-ddg-testresultelementid="518630"><label for="CIVICRM_QFID_63_price_5"><span class="crm-price-amount-label">Professional</span><span class="crm-price-amount-label-separator">&nbsp;-&nbsp;</span><span class="crm-price-amount-amount">$ 300.00</span></label></span>
                  </div>
                </div>
                <div id="allow_auto_renew">
                  <div class="crm-section auto-renew">
                    <div class="label"></div>
                    <div class="content" id="auto_renew_section" style="display: block">
                      <input id="auto_renew" name="auto_renew" type="checkbox" value="1" class="crm-form-checkbox" title="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Please renew my membership automatically.
parseable name: auto_renew
section: price_5_0_55
field signature: 2887444712
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 57" autofill-information="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Please renew my membership automatically.
parseable name: auto_renew
section: price_5_0_55
field signature: 2887444712
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 57" autofill-prediction="UNKNOWN_TYPE" data-ddg-testresultelementid="518631">&nbsp;<label for="auto_renew">Please renew my membership automatically.</label>
                    </div>
                    <div class="content" id="force_renew" style="display: none">
                      Membership will renew automatically.
                    </div>
                  </div>
                </div>
                <div class="clear"></div>
              </div>
              <div class="crm-section other_amount-section crm-price-field-id-24">
                <div class="label">
                  <label for="price_24">Additional Donation Amount</label>
                </div>
                <div class="content other_amount-content">
                  <input price="[71,&quot;1||&quot;]" size="4" name="price_24" type="text" id="price_24" class="four crm-form-text" title="overall type: NUMERIC_QUANTITY
server type: NO_SERVER_DATA
heuristic type: NUMERIC_QUANTITY
label: Additional Donation Amount
parseable name: price_24
section: price_5_0_55
field signature: 117285524
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 58" autofill-information="overall type: NUMERIC_QUANTITY
server type: NO_SERVER_DATA
heuristic type: NUMERIC_QUANTITY
label: Additional Donation Amount
parseable name: price_24
section: price_5_0_55
field signature: 117285524
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 58" autofill-prediction="NUMERIC_QUANTITY" data-ddg-inputtype="unknown" data-ddg-testresultelementid="518632">
                </div>

                <div class="clear"></div>
              </div>

              <div id="pricesetTotal" class="crm-section section-pricesetTotal">
                <div id="pricelabel" class="label hiddenElement">
                  <span id="amount_sum_label">Total Amount</span>
                </div>
                <div class="content calc-value" style="display: none" id="pricevalue">
                  $ 50.00
                </div>
              </div>

              <script type="text/javascript">
                var thousandMarker = ",";
                var separator = ".";
                var symbol = "$";
                // moneyFormat is part of a temporary fix. it should
                // not be expected to be present in future versions
                // see https://github.com/civicrm/civicrm-core/pull/19151

                var moneyFormat = "$ 1,234.56";
                var optionSep = "|";

                // Recalculate the total fees based on user selection
                cj("#priceset [price]").each(function () {
                  var elementType = cj(this).attr("type");
                  if (this.tagName == "SELECT") {
                    elementType = "select-one";
                  }

                  switch (elementType) {
                    case "checkbox":
                      cj(this).click(function () {
                        calculateCheckboxLineItemValue(this);
                        display(calculateTotalFee());
                      });
                      calculateCheckboxLineItemValue(this);
                      break;

                    case "radio":
                      cj(this).click(function () {
                        calculateRadioLineItemValue(this);
                        display(calculateTotalFee());
                      });
                      calculateRadioLineItemValue(this);
                      break;

                    case "text":
                      cj(this)
                        .bind("keyup", function () {
                          calculateText(this);
                        })
                        .bind("blur", function () {
                          calculateText(this);
                        });
                      //default calculation of element.
                      calculateText(this);
                      break;

                    case "select-one":
                      calculateSelectLineItemValue(this);

                      cj(this).change(function () {
                        calculateSelectLineItemValue(this);
                        display(calculateTotalFee());
                      });
                      break;
                  }

                  display(calculateTotalFee());
                });

                /**
                 * Calculate the value of the line item for a radio value.
                 */
                function calculateCheckboxLineItemValue(priceElement) {
                  eval("var option = " + cj(priceElement).attr("price"));
                  optionPart = option[1].split(optionSep);
                  price = parseFloat(0);
                  if (cj(priceElement).prop("checked")) {
                    price = parseFloat(optionPart[0]);
                  }
                  cj(priceElement).data("line_raw_total", price);
                }

                /**
                 * Calculate the value of the line item for a radio value.
                 */
                function calculateRadioLineItemValue(priceElement) {
                  eval("var option = " + cj(priceElement).attr("price"));
                  optionPart = option[1].split(optionSep);
                  var lineTotal = parseFloat(optionPart[0]);
                  cj(priceElement).data("line_raw_total", lineTotal);
                  var radionGroupName = cj(priceElement).attr("name");
                  // Reset all unchecked options to having a data value of 0.
                  cj(
                    "input[name=" + radionGroupName + "]:radio:unchecked"
                  ).each(function () {
                    cj(this).data("line_raw_total", 0);
                  });
                }

                /**
                 * Calculate the value of the line item for a select value.
                 */
                function calculateSelectLineItemValue(priceElement) {
                  eval("var selectedText = " + cj(priceElement).attr("price"));
                  var price = parseFloat("0");
                  var option = cj(priceElement).val();
                  if (option) {
                    optionPart = selectedText[option].split(optionSep);
                    price = parseFloat(optionPart[0]);
                  }
                  cj(priceElement).data("line_raw_total", price);
                }

                /**
                 * Calculate the value of the line item for a text box.
                 */
                function calculateText(priceElement) {
                  //CRM-16034 - comma acts as decimal in price set text pricing
                  //CRM-19937 - dollar sign easy mistake to make by users.
                  var textval = parseFloat(
                    cj(priceElement)
                      .val()
                      .replace(thousandMarker, "")
                      .replace(symbol, "")
                  );

                  if (isNaN(textval)) {
                    textval = parseFloat(0);
                  }
                  eval("var option = " + cj(priceElement).attr("price"));
                  optionPart = option[1].split(optionSep);
                  addprice = parseFloat(optionPart[0]);
                  var curval = textval * addprice;
                  cj(priceElement).data("line_raw_total", curval);
                  display(calculateTotalFee());
                }

                /**
                 * Calculate the total fee for the visible priceset.
                 */
                function calculateTotalFee() {
                  var totalFee = 0;
                  cj("#priceset [price]").each(function () {
                    totalFee = totalFee + cj(this).data("line_raw_total");
                  });
                  return totalFee;
                }

                /**
                 * Display calculated amount.
                 */
                function display(totalfee) {
                  // totalfee is monetary, round it to 2 decimal points so it can
                  // go as a float - CRM-13491
                  totalfee = Math.round(totalfee * 100) / 100;
                  // dev/core#1019 Use the moneyFormat assigned to the template as an interim fix
                  // to support forms using a currency other that the site default. Also make sure to
                  // support various currency formatting options,
                  // temporary measure - pending
                  // our preferred fix.
                  // see https://github.com/civicrm/civicrm-core/pull/19151
                  var totalFormattedFee = CRM.formatMoney(
                    totalfee,
                    false,
                    moneyFormat
                  );
                  cj("#pricevalue").html(totalFormattedFee);

                  cj("#total_amount").val(totalfee);
                  cj("#pricevalue")
                    .data("raw-total", totalfee)
                    .trigger("change");

                  if (totalfee < 0) {
                    cj("table#pricelabel").addClass("disabled");
                  } else {
                    cj("table#pricelabel").removeClass("disabled");
                  }

                  if (typeof skipPaymentMethod == "function") {
                    // Advice to anyone who, like me, feels hatred towards this if construct ... if you remove the if you
                    // get an error on participant 2 of a event that requires approval & permits multiple registrants.
                    skipPaymentMethod();
                  }
                }
              </script>
            </div>
          </fieldset>
        </div>
      </div>

      <script type="text/javascript">
        CRM.$(function ($) {
          //if price set is set we use below below code to show for showing auto renew
          var autoRenewOption = "1";
          var autoRenew = $("#auto_renew_section");
          var autoRenewCheckbox = $("#auto_renew");
          var forceRenew = $("#force_renew");
          autoRenew.hide();
          forceRenew.hide();
          if (autoRenewOption == 1) {
            autoRenew.show();
          } else if (autoRenewOption == 2) {
            autoRenewCheckbox.prop("checked", true);
            autoRenewCheckbox.attr("readonly", true);
            autoRenew.hide();
            forceRenew.show();
          }
        });
      </script>

      <script type="text/javascript">
        CRM.$(function ($) {
          showHideAutoRenew(null);
        });
        function showHideAutoRenew(memTypeId) {
          var priceSetName = "price_" + "5";
          var considerUserInput = "";
          if (memTypeId) considerUserInput = false;
          if (!memTypeId)
            memTypeId = cj(
              "input:radio[name=" + priceSetName + "]:checked"
            ).attr("membership-type");

          //does this page has only one membership type.
          var singleMembership = "";
          if (!memTypeId && singleMembership)
            memTypeId = cj("input:radio[name=" + priceSetName + "]").attr(
              "membership-type"
            );
          var renewOptions = {
            autoRenewMembershipType_1: 1,
            autoRenewMembershipType_8: 1,
            autoRenewMembershipType_2: 1,
          };
          var currentOption = eval(
            "renewOptions." + "autoRenewMembershipType_" + memTypeId
          );
          var autoRenew = cj("#auto_renew_section");
          var autoRenewC = cj('input[name="auto_renew"]');
          var forceRenew = cj("#force_renew");

          var readOnly = false;
          var isChecked = false;
          if (currentOption == 0) {
            isChecked = false;
            forceRenew.hide();
            autoRenew.hide();
          }
          if (currentOption == 1) {
            forceRenew.hide();
            autoRenew.show();

            //uncomment me, if we'd like
            //to load auto_renew checked.
            //isChecked = true;
          } else if (currentOption == 2 || currentOption == 4) {
            autoRenew.hide();
            forceRenew.show();
            isChecked = readOnly = true;
          }

          if (considerUserInput) isChecked = autoRenew.prop("checked");

          //its a normal recur contribution.
          if (
            cj("is_recur") &&
            cj('input:radio[name="is_recur"]:checked').val() == 1
          ) {
            isChecked = false;
            autoRenew.hide();
            forceRenew.hide();
          }

          autoRenewC.attr("readonly", readOnly);
          autoRenewC.prop("checked", isChecked);
        }

        CRM.$(function ($) {
          //keep read only always checked.
          cj("#auto_renew").click(function () {
            if (cj(this).attr("readonly")) {
              cj(this).prop("checked", true);
            }
          });
        });
      </script>
    </div>

    <div id="onBehalfOfOrg" class="crm-public-form-item crm-section">
      <div class="crm-public-form-item" id="on-behalf-block"></div>

      <script type="text/javascript">
        CRM.$(function ($) {
          var orgOption = $("input:radio[name=org_option]:checked").attr("id");
          var onBehalfRequired = "$onBehalfRequired";
          var onbehalfof_id = $("#onbehalfof_id");
          var is_for_organization = $("#is_for_organization");

          selectCreateOrg(orgOption, false);

          if (is_for_organization.length) {
            showHideOnBehalfOfBlock();

            is_for_organization.on("change", function () {
              showHideOnBehalfOfBlock();
            });
          }

          function showHideOnBehalfOfBlock() {
            $("#on-behalf-block").toggle(is_for_organization.is(":checked"));

            if (is_for_organization.is(":checked")) {
              $("#onBehalfOfOrg select.crm-select2").removeClass(
                "crm-no-validate"
              );
            } else {
              $("#onBehalfOfOrg select.crm-select2").addClass(
                "crm-no-validate"
              );
            }
          }

          $("input:radio[name='org_option']").click(function () {
            var orgOption = $(this).attr("id");
            selectCreateOrg(orgOption, true);
          });

          onbehalfof_id
            .change(function () {
              setLocationDetails($(this).val());
            })
            .change();

          if (onbehalfof_id.length) {
            setLocationDetails(onbehalfof_id.val());
          }

          function resetValues() {
            // Don't trip chain-select when clearing values
            $(".crm-chain-select-control", "#select_org div").select2(
              "val",
              ""
            );
            $("input[type=text], select, textarea", "#select_org div")
              .not(".crm-chain-select-control, #onbehalfof_id")
              .val("")
              .change();
            $("input[type=radio], input[type=checkbox]", "#select_org div")
              .prop("checked", false)
              .change();

            $("#on-behalf-block input")
              .not("input[type=checkbox], input[type=radio], #onbehalfof_id")
              .val("");
            // clear checkboxes and radio
            $("#on-behalf-block")
              .find("input[type=checkbox], input[type=radio]")
              .not("input[name=org_option]")
              .attr("checked", false);
          }

          function selectCreateOrg(orgOption, reset) {
            if (orgOption == "CIVICRM_QFID_0_org_option") {
              $("#onbehalfof_id").show().change();
              $("input#onbehalf_organization_name").hide();
            } else if (orgOption == "CIVICRM_QFID_1_org_option") {
              $("input#onbehalf_organization_name").show();
              $("#onbehalfof_id").hide();
              reset = true;
            }

            if (reset) {
              resetValues();
            }
          }

          function setLocationDetails(contactID, reset) {
            resetValues();
            var locationUrl = "" + contactID;
            var submittedOnBehalfInfo = "";
            var submittedCID = "";

            if (submittedOnBehalfInfo) {
              submittedOnBehalfInfo = $.parseJSON(submittedOnBehalfInfo);

              if (submittedCID == contactID) {
                $.each(submittedOnBehalfInfo, function (key, value) {
                  //handle checkboxes
                  if (typeof value === "object") {
                    $.each(value, function (k, v) {
                      $("#onbehalf_" + key + "_" + k).prop("checked", v);
                    });
                  } else if ($("#onbehalf_" + key).length) {
                    $("#onbehalf_" + key).val(value);
                  }
                  //radio buttons
                  else if ($("input[name='onbehalf[" + key + "]']").length) {
                    $("input[name='onbehalf[" + key + "]']").val([value]);
                  }
                });
                return;
              }
            }

            $.ajax({
              url: locationUrl,
              dataType: "json",
              success: function (data, status) {
                for (var ele in data) {
                  if ($("#" + ele).hasClass("crm-chain-select-target")) {
                    $("#" + ele)
                      .data("newVal", data[ele].value)
                      .off(".autofill")
                      .on("crmOptionsUpdated.autofill", function () {
                        $(this)
                          .off(".autofill")
                          .val($(this).data("newVal"))
                          .change();
                      });
                  } else if ($("#" + ele).data("select2")) {
                    $("#" + ele).select2("val", data[ele].value);
                  }
                  if (data[ele].type == "Radio") {
                    if (data[ele].value) {
                      var fldName = ele.replace("onbehalf_", "");
                      $("input[name='onbehalf[" + fldName + "]']")
                        .filter("[value='" + data[ele].value + "']")
                        .prop("checked", true);
                    }
                  } else if (data[ele].type == "CheckBox") {
                    for (var selectedOption in data[ele].value) {
                      var fldName = ele.replace("onbehalf_", "");
                      $(
                        "input[name='onbehalf[" +
                          fldName +
                          "][" +
                          selectedOption +
                          "]']"
                      ).prop("checked", "checked");
                    }
                  } else if (data[ele].type == "AdvMulti-Select") {
                    var customFld = ele.replace("onbehalf_", "");
                    // remove empty value if any
                    $(
                      "#onbehalf\\[" + customFld + '\\]-f option[value=""]'
                    ).remove();
                    $(
                      "#onbehalf\\[" + customFld + '\\]-t option[value=""]'
                    ).remove();

                    for (var selectedOption in data[ele].value) {
                      // remove selected values from left and selected values to right
                      $(
                        "#onbehalf\\[" +
                          customFld +
                          '\\]-f option[value="' +
                          selectedOption +
                          '"]'
                      )
                        .remove()
                        .appendTo("#onbehalf\\[" + customFld + "\\]-t");
                      $("#onbehalf_" + customFld).val(selectedOption);
                    }
                  } else {
                    // do not set defaults to file type fields
                    if ($("#" + ele).attr("type") != "file") {
                      $("#" + ele)
                        .val(data[ele].value)
                        .change();
                    }
                  }
                }
              },
              error: function (XMLHttpRequest, textStatus, errorThrown) {
                CRM.console("error", "HTTP error status: ", textStatus);
              },
            });
          }
        });
      </script>
    </div>

    <div class="crm-public-form-item crm-section cms_user-section">
      <fieldset class="crm-group crm_user-group">
        <legend>Account</legend>
        <div class="messages help cms_user_help-section">
          Please enter a Username to create an account. If you already have an
          account
          <a href="https://members.opensource.org/wp-login.php?redirect_to=https%3A%2F%2Fmembers.opensource.org%2Fjoin%2F%3Fciviwp%3DCiviCRM%26amp%3Bq%3Dcivicrm%252Fcontribute%252Ftransact%26amp%3Breset%3D1%26amp%3Bid%3D1">please login</a>
          before completing this form.
        </div>
        <div></div>
        <div id="details" class="crm_user_signup-section">
          <div class="form-layout-compressed">
            <div class="crm-section cms_name-section">
              <div class="label">
                <label for="cms_name"><label for="cms_name">
                    Username
                    <span class="crm-marker" title="This field is required.">*</span>
                  </label></label>
              </div>
              <div class="content">
                <input name="cms_name" type="text" id="cms_name" class="crm-form-text required" title="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Username * Username *
parseable name: cms_name
section: price_5_0_55
field signature: 3132972712
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 60" autofill-information="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Username * Username *
parseable name: cms_name
section: price_5_0_55
field signature: 3132972712
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 60" autofill-prediction="UNKNOWN_TYPE" data-ddg-inputtype="unknown" data-ddg-testresultelementid="518633">
                <a id="checkavailability" href="#" onclick="return false;"><strong>Check Availability</strong></a>
                <span id="msgbox" style="display: none"></span><br>
                <span class="description">Punctuation is not allowed in a Username with the exception
                  of periods, hyphens and underscores.</span>
              </div>
            </div>
          </div>
        </div>
      </fieldset>

      <script type="text/javascript">
        function showMessage(frm) {
          var cId = "";
          if (cId) {
            alert("You are logged-in user");
            frm.checked = false;
          } else {
            var siteName = "https://members.opensource.org/";
            alert(
              "Please login if you have an account on this site with the link " +
                siteName
            );
          }
        }

        var lastName = null;
        cj("#checkavailability").click(function () {
          var cmsUserName = cj.trim(cj("#cms_name").val());
          if (lastName == cmsUserName) {
            /*if user checking the same user name more than one times. avoid the ajax call*/
            return;
          }
          /*don't allow special character and for joomla minimum username length is two*/

          var spchar = "\<|\>|\"|'|\%|\;|\(|\)|\&|\\\\|\/";

          var r = new RegExp("[" + spchar + "]", "i");
          /*regular expression \\ matches a single backslash. this becomes r = /\\/ or r = new RegExp("\\\\").*/
          if (r.exec(cmsUserName)) {
            alert("Your username contains invalid characters");
            return;
          }

          if (cmsUserName) {
            /*take all messages in javascript variable*/
            var check = "Checking...";
            var available = "This username is currently available.";
            var notavailable = "This username is taken.";
            var errorMsg =
              "Error checking username. Please reload the form and try again.";

            //remove all the class add the messagebox classes and start fading
            cj("#msgbox")
              .removeClass()
              .addClass("cmsmessagebox")
              .css({
                color: "#000",
                backgroundColor: "#FFC",
                border: "1px solid #c93",
              })
              .text(check)
              .fadeIn("slow");

            //check the username exists or not from ajax
            var contactUrl =
              "https://members.opensource.org/join/?civiwp=CiviCRM&q=civicrm%2Fajax%2Fcmsuser";

            var checkUserParams = {
              cms_name: cj("#cms_name").val(),
              ts: "1678930952",
              sig: "psb9_0f4bb2d19d159af98794f2c4b72da883",
              for: "civicrm/ajax/cmsuser",
            };
            cj.post(
              contactUrl,
              checkUserParams,
              function (data) {
                if (data.name == "no") {
                  /*if username not avaiable*/
                  cj("#msgbox").fadeTo(200, 0.1, function () {
                    cj(this)
                      .html(notavailable)
                      .addClass("cmsmessagebox")
                      .css({
                        color: "#CC0000",
                        backgroundColor: "#F7CBCA",
                        border: "1px solid #CC0000",
                      })
                      .fadeTo(900, 1);
                  });
                } else if (data.name == "error") {
                  /*if username not avaiable*/
                  cj("#msgbox").fadeTo(200, 0.1, function () {
                    cj(this)
                      .html(errorMsg)
                      .addClass("cmsmessagebox")
                      .css({
                        color: "#CC0000",
                        backgroundColor: "#F7CBCA",
                        border: "1px solid #CC0000",
                      })
                      .fadeTo(900, 1);
                  });
                } else {
                  cj("#msgbox").fadeTo(200, 0.1, function () {
                    cj(this)
                      .html(available)
                      .addClass("cmsmessagebox")
                      .css({
                        color: "#008000",
                        backgroundColor: "#C9FFCA",
                        border: "1px solid #349534",
                      })
                      .fadeTo(900, 1);
                  });
                }
              },
              "json"
            );
            lastName = cmsUserName;
          } else {
            cj("#msgbox")
              .removeClass()
              .text("")
              .css({ backgroundColor: "#FFFFFF", border: "0px #FFFFFF" })
              .fadeIn("fast");
          }
        });
      </script>
    </div>
    <div class="crm-public-form-item crm-section premium_block-section"></div>

    <div class="crm-public-form-item crm-group custom_pre_profile-group">
      <fieldset class="crm-profile crm-profile-id-10 crm-profile-name-name_and_address_10">
        <legend>Member Information</legend>

        <div class="crm-section editrow_first_name-section form-item" id="editrow-first_name">
          <div class="label">
            <label for="first_name">
              First Name
              <span class="crm-marker" title="This field is required.">*</span>
            </label>
          </div>
          <div class="content">
            <input maxlength="64" size="30" name="first_name" type="text" id="first_name" class="big crm-form-text required" data-ddg-testresultelementid="518634" data-manual-scoring="firstName">
          </div>
          <div class="clear"></div>
        </div>

        <div class="crm-section editrow_last_name-section form-item" id="editrow-last_name">
          <div class="label">
            <label for="last_name">
              Last Name
              <span class="crm-marker" title="This field is required.">*</span>
            </label>
          </div>
          <div class="content">
            <input maxlength="64" size="30" name="last_name" type="text" id="last_name" class="big crm-form-text required" data-ddg-testresultelementid="518635" data-manual-scoring="lastName">
          </div>
          <div class="clear"></div>
        </div>

        <div class="crm-section editrow_email-Primary-section form-item" id="editrow-email-Primary">
          <div class="label">
            <label for="email-Primary">
              Email
              <span class="crm-marker" title="This field is required.">*</span>
            </label>
          </div>
          <div class="content">
            <input maxlength="254" size="30" name="email-Primary" type="text" id="email-Primary" class="big crm-form-text required" title="overall type: EMAIL_ADDRESS
server type: NO_SERVER_DATA
heuristic type: EMAIL_ADDRESS
label: Email *
parseable name: email-Primary
section: price_5_0_55
field signature: 1942444993
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 64" autofill-information="overall type: EMAIL_ADDRESS
server type: NO_SERVER_DATA
heuristic type: EMAIL_ADDRESS
label: Email *
parseable name: email-Primary
section: price_5_0_55
field signature: 1942444993
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 64" autofill-prediction="EMAIL_ADDRESS" data-ddg-inputtype="identities.emailAddress" data-ddg-autofill="true" style="
                background-size: auto 26px !important;
                background-position: right center !important;
                background-repeat: no-repeat !important;
                background-origin: content-box !important;
                background-image: url('chrome-extension://eiflgdmjpmjdgkdcckpjelhcfemjnfme/img/logo-small.svg') !important;
                transition: background 0s ease 0s !important;
              " data-ddg-testresultelementid="518636">
          </div>
          <div class="clear"></div>
        </div>

        <div class="crm-section editrow_street_address-1-section form-item" id="editrow-street_address-1">
          <div class="label">
            <label for="street_address-1">Street Address</label>
          </div>
          <div class="content">
            <input maxlength="96" size="45" name="street_address-1" type="text" id="street_address-1" class="huge crm-form-text" data-ddg-testresultelementid="518637" data-manual-scoring="addressStreet">
          </div>
          <div class="clear"></div>
        </div>

        <div class="crm-section editrow_city-1-section form-item" id="editrow-city-1">
          <div class="label">
            <label for="city-1">City</label>
          </div>
          <div class="content">
            <input maxlength="64" size="30" name="city-1" type="text" id="city-1" class="big crm-form-text" data-ddg-testresultelementid="518638" data-manual-scoring="addressCity">
          </div>
          <div class="clear"></div>
        </div>

        <div class="crm-section editrow_country-1-section form-item" id="editrow-country-1">
          <div class="label">
            <label for="country-1">
              Country
              <span class="crm-marker" title="This field is required.">*</span>
            </label>
          </div>
          <div class="content">
            <div class="select2-container crm-select2 crm-chain-select-control crm-form-select required" id="s2id_country-1" style="width: 357px">
              <a href="javascript:void(0)" class="select2-choice" tabindex="-1">
                <span class="select2-chosen" id="select2-chosen-1">United States</span><abbr class="select2-search-choice-close"></abbr>
                <span class="select2-arrow" role="presentation"><b role="presentation"></b></span></a><label for="s2id_autogen1" class="select2-offscreen">
                Country * </label><input class="select2-focusser select2-offscreen" type="text" aria-haspopup="true" role="button" aria-labelledby="select2-chosen-1" id="s2id_autogen1" data-ddg-testresultelementid="518639" data-manual-scoring="addressCountryCode">
              <div class="select2-drop select2-display-none select2-with-searchbox crm-container crm-public">
                <div class="select2-search">
                  <label for="s2id_autogen1_search" class="select2-offscreen">
                    Country *
                  </label>
                  <input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input" role="combobox" aria-expanded="true" aria-autocomplete="list" aria-owns="select2-results-1" id="s2id_autogen1_search" placeholder="" data-ddg-testresultelementid="518640" data-manual-scoring="addressCountryCode">
                </div>
                <ul class="select2-results" role="listbox" id="select2-results-1"></ul>
              </div>
            </div>
            <select class="crm-select2 crm-chain-select-control crm-form-select required" placeholder="- select Country -" name="country-1" data-target="state_province-1" id="country-1" tabindex="-1" style="display: none" data-ddg-testresultelementid="518641" data-manual-scoring="addressCountryCode">
              <option value="">- select Country -</option>
              <option value="1228" selected="selected">United States</option>
              <option value="1001">Afghanistan</option>
              <option value="1241">Åland Islands</option>
              <option value="1002">Albania</option>
              <option value="1003">Algeria</option>
              <option value="1004">American Samoa</option>
              <option value="1005">Andorra</option>
              <option value="1006">Angola</option>
              <option value="1007">Anguilla</option>
              <option value="1008">Antarctica</option>
              <option value="1009">Antigua and Barbuda</option>
              <option value="1010">Argentina</option>
              <option value="1011">Armenia</option>
              <option value="1012">Aruba</option>
              <option value="1013">Australia</option>
              <option value="1014">Austria</option>
              <option value="1015">Azerbaijan</option>
              <option value="1212">Bahamas</option>
              <option value="1016">Bahrain</option>
              <option value="1017">Bangladesh</option>
              <option value="1018">Barbados</option>
              <option value="1019">Belarus</option>
              <option value="1020">Belgium</option>
              <option value="1021">Belize</option>
              <option value="1022">Benin</option>
              <option value="1023">Bermuda</option>
              <option value="1024">Bhutan</option>
              <option value="1025">Bolivia</option>
              <option value="1026">Bosnia and Herzegovina</option>
              <option value="1027">Botswana</option>
              <option value="1028">Bouvet Island</option>
              <option value="1029">Brazil</option>
              <option value="1030">British Indian Ocean Territory</option>
              <option value="1032">Brunei Darussalam</option>
              <option value="1033">Bulgaria</option>
              <option value="1034">Burkina Faso</option>
              <option value="1036">Burundi</option>
              <option value="1037">Cambodia</option>
              <option value="1038">Cameroon</option>
              <option value="1039">Canada</option>
              <option value="1040">Cape Verde</option>
              <option value="1041">Cayman Islands</option>
              <option value="1042">Central African Republic</option>
              <option value="1043">Chad</option>
              <option value="1044">Chile</option>
              <option value="1045">China</option>
              <option value="1046">Christmas Island</option>
              <option value="1047">Cocos (Keeling) Islands</option>
              <option value="1048">Colombia</option>
              <option value="1049">Comoros</option>
              <option value="1051">Congo, Republic Of The</option>
              <option value="1050">
                Congo, The Democratic Republic of the
              </option>
              <option value="1052">Cook Islands</option>
              <option value="1053">Costa Rica</option>
              <option value="1054">Côte d’Ivoire</option>
              <option value="1055">Croatia</option>
              <option value="1056">Cuba</option>
              <option value="1057">Cyprus</option>
              <option value="1058">Czech Republic</option>
              <option value="1059">Denmark</option>
              <option value="1060">Djibouti</option>
              <option value="1061">Dominica</option>
              <option value="1062">Dominican Republic</option>
              <option value="1064">Ecuador</option>
              <option value="1065">Egypt</option>
              <option value="1066">El Salvador</option>
              <option value="1067">Equatorial Guinea</option>
              <option value="1068">Eritrea</option>
              <option value="1069">Estonia</option>
              <option value="1203">Eswatini</option>
              <option value="1070">Ethiopia</option>
              <option value="1072">Falkland Islands (Malvinas)</option>
              <option value="1073">Faroe Islands</option>
              <option value="1074">Fiji</option>
              <option value="1075">Finland</option>
              <option value="1076">France</option>
              <option value="1077">French Guiana</option>
              <option value="1078">French Polynesia</option>
              <option value="1079">French Southern Territories</option>
              <option value="1080">Gabon</option>
              <option value="1213">Gambia</option>
              <option value="1081">Georgia</option>
              <option value="1082">Germany</option>
              <option value="1083">Ghana</option>
              <option value="1084">Gibraltar</option>
              <option value="1085">Greece</option>
              <option value="1086">Greenland</option>
              <option value="1087">Grenada</option>
              <option value="1088">Guadeloupe</option>
              <option value="1089">Guam</option>
              <option value="1090">Guatemala</option>
              <option value="1245">Guernsey</option>
              <option value="1091">Guinea</option>
              <option value="1092">Guinea-Bissau</option>
              <option value="1093">Guyana</option>
              <option value="1094">Haiti</option>
              <option value="1095">Heard Island and McDonald Islands</option>
              <option value="1096">Holy See (Vatican City State)</option>
              <option value="1097">Honduras</option>
              <option value="1098">Hong Kong</option>
              <option value="1099">Hungary</option>
              <option value="1100">Iceland</option>
              <option value="1101">India</option>
              <option value="1102">Indonesia</option>
              <option value="1103">Iran, Islamic Republic of</option>
              <option value="1104">Iraq</option>
              <option value="1105">Ireland</option>
              <option value="1246">Isle of Man</option>
              <option value="1106">Israel</option>
              <option value="1107">Italy</option>
              <option value="1108">Jamaica</option>
              <option value="1109">Japan</option>
              <option value="1244">Jersey</option>
              <option value="1110">Jordan</option>
              <option value="1111">Kazakhstan</option>
              <option value="1112">Kenya</option>
              <option value="1113">Kiribati</option>
              <option value="1114">
                Korea, Democratic People's Republic of
              </option>
              <option value="1115">Korea, Republic of</option>
              <option value="1116">Kuwait</option>
              <option value="1117">Kyrgyzstan</option>
              <option value="1118">Lao People's Democratic Republic</option>
              <option value="1119">Latvia</option>
              <option value="1120">Lebanon</option>
              <option value="1121">Lesotho</option>
              <option value="1122">Liberia</option>
              <option value="1123">Libya</option>
              <option value="1124">Liechtenstein</option>
              <option value="1125">Lithuania</option>
              <option value="1126">Luxembourg</option>
              <option value="1127">Macao</option>
              <option value="1129">Madagascar</option>
              <option value="1130">Malawi</option>
              <option value="1131">Malaysia</option>
              <option value="1132">Maldives</option>
              <option value="1133">Mali</option>
              <option value="1134">Malta</option>
              <option value="1135">Marshall Islands</option>
              <option value="1136">Martinique</option>
              <option value="1137">Mauritania</option>
              <option value="1138">Mauritius</option>
              <option value="1139">Mayotte</option>
              <option value="1140">Mexico</option>
              <option value="1141">Micronesia, Federated States of</option>
              <option value="1142">Moldova</option>
              <option value="1143">Monaco</option>
              <option value="1144">Mongolia</option>
              <option value="1243">Montenegro</option>
              <option value="1145">Montserrat</option>
              <option value="1146">Morocco</option>
              <option value="1147">Mozambique</option>
              <option value="1035">Myanmar</option>
              <option value="1148">Namibia</option>
              <option value="1149">Nauru</option>
              <option value="1150">Nepal</option>
              <option value="1152">Netherlands</option>
              <option value="1153">New Caledonia</option>
              <option value="1154">New Zealand</option>
              <option value="1155">Nicaragua</option>
              <option value="1156">Niger</option>
              <option value="1157">Nigeria</option>
              <option value="1158">Niue</option>
              <option value="1159">Norfolk Island</option>
              <option value="1128">North Macedonia</option>
              <option value="1160">Northern Mariana Islands</option>
              <option value="1161">Norway</option>
              <option value="1162">Oman</option>
              <option value="1163">Pakistan</option>
              <option value="1164">Palau</option>
              <option value="1165">Palestine, State of</option>
              <option value="1166">Panama</option>
              <option value="1167">Papua New Guinea</option>
              <option value="1168">Paraguay</option>
              <option value="1169">Peru</option>
              <option value="1170">Philippines</option>
              <option value="1171">Pitcairn</option>
              <option value="1172">Poland</option>
              <option value="1173">Portugal</option>
              <option value="1174">Puerto Rico</option>
              <option value="1175">Qatar</option>
              <option value="1179">Reunion</option>
              <option value="1176">Romania</option>
              <option value="1177">Russian Federation</option>
              <option value="1178">Rwanda</option>
              <option value="1180">Saint Helena</option>
              <option value="1181">Saint Kitts and Nevis</option>
              <option value="1182">Saint Lucia</option>
              <option value="1183">Saint Pierre and Miquelon</option>
              <option value="1184">Saint Vincent and the Grenadines</option>
              <option value="1185">Samoa</option>
              <option value="1186">San Marino</option>
              <option value="1207">Sao Tome and Principe</option>
              <option value="1187">Saudi Arabia</option>
              <option value="1188">Senegal</option>
              <option value="1242">Serbia</option>
              <option value="1238">Serbia and Montenegro</option>
              <option value="1189">Seychelles</option>
              <option value="1190">Sierra Leone</option>
              <option value="1191">Singapore</option>
              <option value="1192">Slovakia</option>
              <option value="1193">Slovenia</option>
              <option value="1194">Solomon Islands</option>
              <option value="1195">Somalia</option>
              <option value="1196">South Africa</option>
              <option value="1197">
                South Georgia and the South Sandwich Islands
              </option>
              <option value="1247">South Sudan</option>
              <option value="1198">Spain</option>
              <option value="1199">Sri Lanka</option>
              <option value="1200">Sudan</option>
              <option value="1201">Suriname</option>
              <option value="1202">Svalbard and Jan Mayen</option>
              <option value="1204">Sweden</option>
              <option value="1205">Switzerland</option>
              <option value="1206">Syrian Arab Republic</option>
              <option value="1208">Taiwan</option>
              <option value="1209">Tajikistan</option>
              <option value="1210">Tanzania, United Republic of</option>
              <option value="1211">Thailand</option>
              <option value="1063">Timor-Leste</option>
              <option value="1214">Togo</option>
              <option value="1215">Tokelau</option>
              <option value="1216">Tonga</option>
              <option value="1217">Trinidad and Tobago</option>
              <option value="1218">Tunisia</option>
              <option value="1219">Turkey</option>
              <option value="1220">Turkmenistan</option>
              <option value="1221">Turks and Caicos Islands</option>
              <option value="1222">Tuvalu</option>
              <option value="1223">Uganda</option>
              <option value="1224">Ukraine</option>
              <option value="1225">United Arab Emirates</option>
              <option value="1226">United Kingdom</option>
              <option value="1227">United States Minor Outlying Islands</option>
              <option value="1229">Uruguay</option>
              <option value="1230">Uzbekistan</option>
              <option value="1231">Vanuatu</option>
              <option value="1232">Venezuela</option>
              <option value="1233">Viet Nam</option>
              <option value="1031">Virgin Islands, British</option>
              <option value="1234">Virgin Islands, U.S.</option>
              <option value="1235">Wallis and Futuna</option>
              <option value="1236">Western Sahara</option>
              <option value="1237">Yemen</option>
              <option value="1239">Zambia</option>
              <option value="1240">Zimbabwe</option>
            </select>
          </div>
          <div class="clear"></div>
        </div>

        <div class="crm-section editrow_state_province-1-section form-item" id="editrow-state_province-1">
          <div class="label">
            <label for="state_province-1">State/Province</label>
          </div>
          <div class="content">
            <div class="select2-container crm-select2 crm-chain-select-target crm-form-select" id="s2id_state_province-1" style="width: 285px">
              <a href="javascript:void(0)" class="select2-choice select2-default" tabindex="-1">
                <span class="select2-chosen" id="select2-chosen-2">- select State/Province -</span><abbr class="select2-search-choice-close"></abbr>
                <span class="select2-arrow" role="presentation"><b role="presentation"></b></span></a><label for="s2id_autogen2" class="select2-offscreen">State/Province</label><input class="select2-focusser select2-offscreen" type="text" aria-haspopup="true" role="button" aria-labelledby="select2-chosen-2" id="s2id_autogen2" data-ddg-testresultelementid="518642" data-manual-scoring="addressProvince">
              <div class="select2-drop select2-display-none select2-with-searchbox crm-container crm-public">
                <div class="select2-search">
                  <label for="s2id_autogen2_search" class="select2-offscreen">State/Province</label>
                  <input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input" role="combobox" aria-expanded="true" aria-autocomplete="list" aria-owns="select2-results-2" id="s2id_autogen2_search" placeholder="" title="overall type: SEARCH_TERM
server type: NO_SERVER_DATA
heuristic type: SEARCH_TERM
label: State/Province
parseable name: s2id_autogen2_search
section: price_5_0_55
field signature: 535866227
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 83
autocomplete: off" autofill-information="overall type: SEARCH_TERM
server type: NO_SERVER_DATA
heuristic type: SEARCH_TERM
label: State/Province
parseable name: s2id_autogen2_search
section: price_5_0_55
field signature: 535866227
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 83
autocomplete: off" autofill-prediction="SEARCH_TERM" data-ddg-inputtype="identities.addressProvince" data-ddg-testresultelementid="518643">
                </div>
                <ul class="select2-results" role="listbox" id="select2-results-2"></ul>
              </div>
            </div>
            <select data-callback="civicrm/ajax/jqState" data-empty-prompt="Choose country first" data-none-prompt="- N/A -" class="crm-select2 crm-chain-select-target crm-form-select" data-select-prompt="- select State/Province -" data-name="state_province-1" name="state_province-1" id="state_province-1" tabindex="-1" style="display: none" data-ddg-testresultelementid="518644" data-manual-scoring="addressProvince">
              <option value="">- select State/Province -</option>
              <option value="1000">Alabama</option>
              <option value="1001">Alaska</option>
              <option value="1052">American Samoa</option>
              <option value="1002">Arizona</option>
              <option value="1003">Arkansas</option>
              <option value="1060">Armed Forces Americas</option>
              <option value="1059">Armed Forces Europe</option>
              <option value="1061">Armed Forces Pacific</option>
              <option value="1004">California</option>
              <option value="1005">Colorado</option>
              <option value="1006">Connecticut</option>
              <option value="1007">Delaware</option>
              <option value="1050">District of Columbia</option>
              <option value="1008">Florida</option>
              <option value="1009">Georgia</option>
              <option value="1053">Guam</option>
              <option value="1010">Hawaii</option>
              <option value="1011">Idaho</option>
              <option value="1012">Illinois</option>
              <option value="1013">Indiana</option>
              <option value="1014">Iowa</option>
              <option value="1015">Kansas</option>
              <option value="1016">Kentucky</option>
              <option value="1017">Louisiana</option>
              <option value="1018">Maine</option>
              <option value="1019">Maryland</option>
              <option value="1020">Massachusetts</option>
              <option value="1021">Michigan</option>
              <option value="1022">Minnesota</option>
              <option value="1023">Mississippi</option>
              <option value="1024">Missouri</option>
              <option value="1025">Montana</option>
              <option value="1026">Nebraska</option>
              <option value="1027">Nevada</option>
              <option value="1028">New Hampshire</option>
              <option value="1029">New Jersey</option>
              <option value="1030">New Mexico</option>
              <option value="1031">New York</option>
              <option value="1032">North Carolina</option>
              <option value="1033">North Dakota</option>
              <option value="1055">Northern Mariana Islands</option>
              <option value="1034">Ohio</option>
              <option value="1035">Oklahoma</option>
              <option value="1036">Oregon</option>
              <option value="1037">Pennsylvania</option>
              <option value="1056">Puerto Rico</option>
              <option value="1038">Rhode Island</option>
              <option value="1039">South Carolina</option>
              <option value="1040">South Dakota</option>
              <option value="1041">Tennessee</option>
              <option value="1042">Texas</option>
              <option value="1058">United States Minor Outlying Islands</option>
              <option value="1043">Utah</option>
              <option value="1044">Vermont</option>
              <option value="1057">Virgin Islands</option>
              <option value="1045">Virginia</option>
              <option value="1046">Washington</option>
              <option value="1047">West Virginia</option>
              <option value="1048">Wisconsin</option>
              <option value="1049">Wyoming</option>
            </select>
          </div>
          <div class="clear"></div>
        </div>

        <div class="crm-section editrow_postal_code-1-section form-item" id="editrow-postal_code-1">
          <div class="label">
            <label for="postal_code-1">Postal Code</label>
          </div>
          <div class="content">
            <input maxlength="64" size="6" name="postal_code-1" type="text" id="postal_code-1" class="six crm-form-text" data-ddg-testresultelementid="518645" data-manual-scoring="addressPostalCode">
          </div>
          <div class="clear"></div>
        </div>

        <div class="crm-section editrow_group-section form-item" id="editrow-group">
          <div class="label">
            <label>Mailing Lists</label>
          </div>
          <div class="content">
            <table class="form-layout-compressed crm-profile-tagsandgroups">
              <tbody>
                <tr>
                  <td></td>

                  <td>
                    <div class="group-wrapper">
                      <div class="crm-section name_other-section" style="display: none">
                        <div class="label">
                          <label for="name_other">Name</label>
                        </div>
                        <div class="content">
                          <input size="20" maxlength="10" autocomplete="off" name="name_other" type="text" id="name_other" class="medium crm-form-text" data-ddg-testresultelementid="518646" data-manual-scoring="fullName">
                        </div>
                      </div>
                      <input type="hidden" name="group[241]" value=""><input skiplabel="1" id="group_241" name="group[241]" type="checkbox" value="1" class="crm-form-checkbox" title="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Newsletter
parseable name: group[241]
section: price_5_0_55
field signature: 252128459
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 72" autofill-information="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Newsletter
parseable name: group[241]
section: price_5_0_55
field signature: 252128459
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 72" autofill-prediction="UNKNOWN_TYPE" data-ddg-testresultelementid="518647">Newsletter
                      <div class="description">
                        Sign-up to to receive OSI's newsletter.
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="clear"></div>
        </div>

        <div class="crm-section editrow_custom_49-section form-item" id="editrow-custom_49">
          <div class="label">
            <label>Would you like a membership pin sent to you?</label>
          </div>
          <div class="content">
            <input data-crm-custom="membership_details:pin_requested" class="crm-form-radio" value="1" type="radio" id="CIVICRM_QFID_1_custom_49" name="custom_49" title="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Yes
parseable name: custom_49
section: price_5_0_55
field signature: 2333685181
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 73" autofill-information="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: Yes
parseable name: custom_49
section: price_5_0_55
field signature: 2333685181
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 73" autofill-prediction="UNKNOWN_TYPE" data-ddg-testresultelementid="518648"><label for="CIVICRM_QFID_1_custom_49">Yes</label>&nbsp;<input data-crm-custom="membership_details:pin_requested" class="crm-form-radio" value="0" type="radio" id="CIVICRM_QFID_0_custom_49" name="custom_49" title="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: No
parseable name: custom_49
section: price_5_0_55
field signature: 2333685181
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 74" autofill-information="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: No
parseable name: custom_49
section: price_5_0_55
field signature: 2333685181
form signature: 18375235263442942799
form signature in host form: 18375235263442942799
field frame token: B798D19DCBE3D00D7CF496EA8AAFFBA3
form renderer id: 4
field renderer id: 74" autofill-prediction="UNKNOWN_TYPE" data-ddg-testresultelementid="518649"><label for="CIVICRM_QFID_0_custom_49">No</label>
            <a href="#" class="crm-hover-button crm-clear-link" style="visibility: hidden" title="Clear"><i class="crm-i fa-times" aria-hidden="true"></i></a>
          </div>
          <div class="clear"></div>
        </div>
      </fieldset>

      <script type="text/javascript">
        CRM.$(function ($) {
          $("#selector tr:even").addClass("odd-row");
          $("#selector tr:odd ").addClass("even-row");
        });
      </script>
    </div>

    <div id="billing-payment-block">
      <script type="text/javascript">
        CRM.config.creditCardTypes = {
          Visa: {
            label: "Visa",
            name: "Visa",
            css_key: "visa",
            pattern: "4(?:[0-9]{12}|[0-9]{15})",
          },
          MasterCard: {
            label: "MasterCard",
            name: "MasterCard",
            css_key: "mastercard",
            pattern:
              "(5[1-5][0-9]{2}|2[3-6][0-9]{2}|22[3-9][0-9]|222[1-9]|27[0-1][0-9]|2720)[0-9]{12}",
          },
          Amex: {
            label: "Amex",
            name: "Amex",
            css_key: "amex",
            pattern: "3[47][0-9]{13}",
          },
          Discover: {
            label: "Discover",
            name: "Discover",
            css_key: "discover",
            pattern: "6011[0-9]{12}",
          },
        };
      </script>
      <div id="payment_information"></div>
      <script type="text/javascript">
        CRM.$(function ($) {
          // build list of ids to track changes on
          var address_fields = {
            street_address: "1",
            city: "1",
            country: "1",
            state_province: "1",
            postal_code: "1",
          };
          var input_ids = {};
          var select_ids = {};
          var orig_id, field, field_name;

          // build input ids
          $(".billing_name_address-section input").each(function (i) {
            orig_id = $(this).attr("id");
            field = orig_id.split("-");
            field_name = field[0].replace("billing_", "");
            if (field[1]) {
              if (address_fields[field_name]) {
                input_ids["#" + field_name + "-" + address_fields[field_name]] =
                  "#" + orig_id;
              }
            }
          });
          if ($("#first_name").length)
            input_ids["#first_name"] = "#billing_first_name";
          if ($("#middle_name").length)
            input_ids["#middle_name"] = "#billing_middle_name";
          if ($("#last_name").length)
            input_ids["#last_name"] = "#billing_last_name";

          // build select ids
          $(".billing_name_address-section select").each(function (i) {
            orig_id = $(this).attr("id");
            field = orig_id.split("-");
            field_name = field[0].replace("billing_", "").replace("_id", "");
            if (field[1]) {
              if (address_fields[field_name]) {
                select_ids[
                  "#" + field_name + "-" + address_fields[field_name]
                ] = "#" + orig_id;
              }
            }
          });

          // detect if billing checkbox should default to checked
          var checked = true;
          for (var id in input_ids) {
            orig_id = input_ids[id];
            if ($(id).val() != $(orig_id).val()) {
              checked = false;
              break;
            }
          }
          for (var id in select_ids) {
            orig_id = select_ids[id];
            if ($(id).val() != $(orig_id).val()) {
              checked = false;
              break;
            }
          }
          if (checked) {
            $("#billingcheckbox")
              .prop("checked", true)
              .data("crm-initial-value", true);
            if (!CRM.billing || CRM.billing.billingProfileIsHideable) {
              $(".billing_name_address-group").hide();
            }
          }

          // onchange handlers for non-billing fields
          for (var id in input_ids) {
            orig_id = input_ids[id];
            $(id).change(function () {
              var id = "#" + $(this).attr("id");
              var orig_id = input_ids[id];

              // if billing checkbox is active, copy other field into billing field
              if ($("#billingcheckbox").prop("checked")) {
                $(orig_id).val($(id).val());
              }
            });
          }
          for (var id in select_ids) {
            orig_id = select_ids[id];
            $(id).change(function () {
              var id = "#" + $(this).attr("id");
              var orig_id = select_ids[id];

              // if billing checkbox is active, copy other field into billing field
              if ($("#billingcheckbox").prop("checked")) {
                $(orig_id + " option").prop("selected", false);
                $(orig_id + ' option[value="' + $(id).val() + '"]').prop(
                  "selected",
                  true
                );
                $(orig_id).change();
              }
            });
          }

          // toggle show/hide
          var billingCheckboxElement = $("#billingcheckbox");
          billingCheckboxElement.click(function () {
            billingCheckboxChanged(billingCheckboxElement);
          });

          billingCheckboxElement.change(function () {
            billingCheckboxChanged(billingCheckboxElement);
          });

          function billingCheckboxChanged(billingCheckbox) {
            if (billingCheckbox.prop("checked")) {
              if (!CRM.billing || CRM.billing.billingProfileIsHideable) {
                $(".billing_name_address-group").hide(200);
              }

              // copy all values
              for (var id in input_ids) {
                orig_id = input_ids[id];
                $(orig_id).val($(id).val());
              }
              for (var id in select_ids) {
                orig_id = select_ids[id];
                $(orig_id + " option").prop("selected", false);
                $(orig_id + ' option[value="' + $(id).val() + '"]').prop(
                  "selected",
                  true
                );
                $(orig_id).change();
              }
            } else {
              $(".billing_name_address-group").show(200);
            }
          }

          // remove spaces, dashes from credit card number
          $("#credit_card_number").change(function () {
            var cc = $("#credit_card_number")
              .val()
              .replace(/ /g, "")
              .replace(/-/g, "");
            $("#credit_card_number").val(cc);
          });
        });
      </script>

      <script type="text/javascript" src="https://members.opensource.org/wp-content/plugins/civicrm/civicrm/templates/CRM/Core/BillingBlock.js?r=q6KApen_US"></script>
    </div>

    <script type="text/javascript">
      /**
       * Show or hide payment options.
       *
       * @param bool $isHide
       *   Should the block be hidden.
       */
      function showHidePayment(isHide) {
        var payment_options = cj(".payment_options-group");
        var payment_processor = cj("div.payment_processor-section");
        var payment_information = cj("div#payment_information");
        // I've added a hide for billing block. But, actually the issue
        // might be that the unselecting of the processor should cause it
        // to be hidden (or removed) in which case it can go from this function.
        var billing_block = cj("div#billing-payment-block");
        if (isHide) {
          payment_options.hide();
          payment_processor.hide();
          payment_information.hide();
          billing_block.hide();
          // Ensure that jquery validation doesn't block submission when we don't need to fill in the billing details section
          cj("#billing-payment-block select.crm-select2").addClass(
            "crm-no-validate"
          );
          // also unset selected payment methods
          cj('input[name="payment_processor_id"]').removeProp("checked");
        } else {
          payment_options.show();
          payment_processor.show();
          payment_information.show();
          billing_block.show();
          cj("#billing-payment-block select.crm-select2").removeClass(
            "crm-no-validate"
          );
          // also set selected payment methods
          cj('input[name="payment_processor_id"][checked=checked]').prop(
            "checked",
            true
          );
        }
      }

      /**
       * Hides or shows billing and payment options block depending on whether payment is required.
       *
       * In general incomplete orders or $0 orders do not require a payment block.
       */
      function skipPaymentMethod() {
        var isHide = false;
        var isMultiple = null;
        var alwaysShowFlag = isMultiple && cj("#additional_participants").val();
        var alwaysHideFlag = cj("#bypass_payment").val() == 1;
        var total_amount_tmp = cj("#pricevalue").data("raw-total");
        // Hide billing questions if this is free
        if (!alwaysShowFlag && total_amount_tmp == 0) {
          isHide = true;
        } else {
          isHide = false;
        }
        if (alwaysHideFlag) {
          isHide = true;
        }
        showHidePayment(isHide);
      }
      skipPaymentMethod();

      CRM.$(function ($) {
        function buildPaymentBlock(type) {
          var $form = $("#billing-payment-block").closest("form");

          var payment_instrument_id = $("#payment_instrument_id").val();

          var currency = "USD";
          currency = currency == "" ? $("#currency").val() : currency;

          var dataUrl =
            "https://members.opensource.org/join/?civiwp=CiviCRM&q=civicrm%2Fpayment%2Fform&formName=Main&is_back_office=&id=1&pre_profile_id=10&processor_id=" +
            type;

          if (typeof CRM.vars != "undefined") {
            if (typeof CRM.vars.coreForm != "undefined") {
              if (typeof CRM.vars.coreForm.contact_id != "undefined") {
                dataUrl = dataUrl + "&cid=" + CRM.vars.coreForm.contact_id;
              }

              if (typeof CRM.vars.coreForm.checksum != "undefined") {
                dataUrl = dataUrl + "&cs=" + CRM.vars.coreForm.checksum;
              }
            }
          }
          dataUrl =
            dataUrl +
            "&payment_instrument_id=" +
            payment_instrument_id +
            "&currency=" +
            currency;

          // Processors like pp-express will hide the form submit buttons, so re-show them when switching
          $(".crm-submit-buttons", $form)
            .show()
            .find("input")
            .prop("disabled", true);
          CRM.loadPage(dataUrl, { target: "#billing-payment-block" });
        }

        $("[name=payment_processor_id], #currency").on(
          "change.paymentBlock",
          function () {
            var payment_processor_id =
              $("[name=payment_processor_id]:checked").val() == undefined
                ? $("[name=payment_processor_id]").val()
                : $("[name=payment_processor_id]:checked").val();
            if (payment_processor_id != undefined) {
              buildPaymentBlock(payment_processor_id);
            }
          }
        );

        $("#payment_instrument_id").on("change.paymentBlock", function () {
          buildPaymentBlock(0);
        });

        $("#billing-payment-block").on("crmLoad", function () {
          $(".crm-submit-buttons input").prop("disabled", false);
        });
      });
    </script>

    <div class="crm-public-form-item crm-group custom_post_profile-group">
      <script type="text/javascript">
        CRM.$(function ($) {
          $("#selector tr:even").addClass("odd-row");
          $("#selector tr:odd ").addClass("even-row");
        });
      </script>
    </div>

    <div id="crm-submit-buttons" class="crm-submit-buttons">
      <button class="crm-form-submit default validate crm-button crm-button-type-upload crm-button_qf_Main_upload" value="1" type="submit" name="_qf_Main_upload" id="_qf_Main_upload-bottom">
        <i aria-hidden="true" class="crm-i fa-chevron-right"></i> Review your
        contribution
      </button>
    </div>
  </div>
  <script type="text/javascript">
    cj('input[name="soft_credit_type_id"]').on("change", function () {
      enableHonorType();
    });

    function enableHonorType() {
      var selectedValue = cj('input[name="soft_credit_type_id"]:checked');
      if (selectedValue.val() > 0) {
        cj("#honorType").show();
      } else {
        cj("#honorType").hide();
      }
    }

    cj('input[id="is_recur"]').on("change", function () {
      toggleRecur();
    });

    function toggleRecur() {
      var isRecur = cj('input[id="is_recur"]:checked');
      var allowAutoRenew = "1";
      var quickConfig = 1;
      if (allowAutoRenew && cj("#auto_renew") && quickConfig) {
        showHideAutoRenew(null);
      }

      var frequencyUnit = cj("#frequency_unit");
      var frequencyInerval = cj("#frequency_interval");
      var installments = cj("#installments");
      isDisabled = false;

      if (isRecur.val() > 0) {
        cj("#recurHelp").show();
        frequencyUnit.prop("disabled", false).addClass("required");
        frequencyInerval.prop("disabled", false).addClass("required");
        installments.prop("disabled", false);
        cj("#amount_sum_label").text("Regular Amount");
      } else {
        cj("#recurHelp").hide();
        frequencyUnit.prop("disabled", true).removeClass("required");
        frequencyInerval.prop("disabled", true).removeClass("required");
        installments.prop("disabled", true);
        cj("#amount_sum_label").text("Total Amount");
      }
    }

    function pcpAnonymous() {
      // clear nickname field if anonymous is true
      if (document.getElementsByName("pcp_is_anonymous")[1].checked) {
        document.getElementById("pcp_roll_nickname").value = "";
      }
      if (!document.getElementsByName("pcp_display_in_roll")[0].checked) {
        cj("#nickID").hide();
        cj("#nameID").hide();
        cj("#personalNoteID").hide();
      } else {
        if (document.getElementsByName("pcp_is_anonymous")[0].checked) {
          cj("#nameID").show();
          cj("#nickID").show();
          cj("#personalNoteID").show();
        } else {
          cj("#nameID").show();
          cj("#nickID").hide();
          cj("#personalNoteID").hide();
        }
      }
    }

    CRM.$(function ($) {
      enableHonorType();
      toggleRecur();
      skipPaymentMethod();
    });

    CRM.$(function ($) {
      // highlight price sets
      function updatePriceSetHighlight() {
        $("#priceset .price-set-row span").removeClass("highlight");
        $("#priceset .price-set-row input:checked")
          .parent()
          .addClass("highlight");
      }
      $('#priceset input[type="radio"]').change(updatePriceSetHighlight);
      updatePriceSetHighlight();

      // Update pledge contribution amount when pledge checkboxes change
      $("input[name^='pledge_amount']").on("change", function () {
        var total = 0;
        $("input[name^='pledge_amount']:checked").each(function () {
          total += Number($(this).attr("amount"));
        });
        $("input[name^='price_']").val(total.toFixed(2));
      });
    });
  </script>

  <script type="text/javascript">
    CRM.$(function ($) {
      $("form.CRM_Contribute_Form_Contribution_Main").crmValidate();
    });
  </script>
</form>
