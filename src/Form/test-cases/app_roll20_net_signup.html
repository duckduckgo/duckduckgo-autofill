<!--
  https://app.roll20.net/account/create
  testRunId: 66
  testResultId: 238891
-->

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe
      src="https://www.googletagmanager.com/ns.html?id=GTM-MKL9HM6&gtm_auth=RyNPjkDTh-LgK4oo5gJi6A&gtm_preview=env-1&gtm_cookies_win=x"
      height="0"
      width="0"
      style="display: none; visibility: hidden"
    ></iframe
  ></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <script src="https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&amp;render=explicit" async="" defer=""></script>
  <div id="app-landing-vue" data-v-app="">
    <div>
      <header id="header">
        <nav id="main-navigation" class="navbar navbar-light bg-white py-2 d-flex justify-content-center shadow-lg">
          <img srcset="
              https://cdn.roll20.net/production/app-landing/assets/3ed70f8d18713dc7c71a1ec9b7688cc1.svg
            " class="navbar-brand-image" height="38">
        </nav>
      </header>
      <main id="page-create-account" class="bg-v-purple-blue">
        <section class="section-content">
          <div class="container">
            <div id="login" class="login-container col-12 col-md-8 col-lg-6 col-xl-5 mx-auto">
              <div class="card m-0">
                <div class="card-header">
                  <h1 class="reset-heading h3 mb-4 text-center font-weight-bold">
                    Create an Account
                  </h1>
                  <p class="text-center">
                    Welcome to Roll20! Fill out the form below to create your
                    free account.
                  </p>
                </div>
                <div class="card-body">
                  <div class="login-form">
                    <form novalidate="">
                      
                        <div class="alert alert-group alert-icon alert-danger" role="alert" id="create-account-error" style="display: none">
                          <div class="alert-group-prepend">
                            <span class="alert-group-icon text-"><i class="fas fa-exclamation-triangle"></i></span>
                          </div>
                          <div class="alert-content"></div>
                        </div>
                        <div class="form-group">
                          <label for="firstName">First Name</label><input name="firstName" type="text" class="form-control" id="firstName" placeholder="First" data-ddg-testresultelementid="536409" data-manual-scoring="firstName">
                          <div class="invalid-feedback"></div>
                        </div>
                        <div class="form-group">
                          <label for="lastName">Last Name</label><input name="lastName" type="text" class="form-control" id="lastName" placeholder="Last" data-ddg-testresultelementid="536410" data-manual-scoring="lastName">
                          <div class="invalid-feedback"></div>
                        </div>
                        <div class="form-group">
                          <label for="email">Email Address</label><input name="email" type="email" class="form-control" id="email" placeholder="user@roll20.net" title="overall type: EMAIL_ADDRESS
server type: EMAIL_ADDRESS
heuristic type: EMAIL_ADDRESS
label: Email Address
parseable name: email
section: firstName_0_13
field signature: 1029417091
form signature: 8743517167259988113
form signature in host form: 8743517167259988113
field frame token: 0A55EDCB85C8DD824B6A0053C6BDDEAB
form renderer id: 4
field renderer id: 15" autofill-information="overall type: EMAIL_ADDRESS
server type: EMAIL_ADDRESS
heuristic type: EMAIL_ADDRESS
label: Email Address
parseable name: email
section: firstName_0_13
field signature: 1029417091
form signature: 8743517167259988113
form signature in host form: 8743517167259988113
field frame token: 0A55EDCB85C8DD824B6A0053C6BDDEAB
form renderer id: 4
field renderer id: 15" autofill-prediction="EMAIL_ADDRESS" data-ddg-testresultelementid="536411">
                          <div class="invalid-feedback"></div>
                        </div>
                        <div class="form-group">
                          <label for="password">Password</label><input name="password" type="password" class="form-control" id="password" placeholder="••••••••••" data-ddg-testresultelementid="536412" data-manual-scoring="password">
                          <div class="invalid-feedback"></div>
                        </div>
                        <div class="form-group">
                          <label for="passwordConfirmation">Password Confirmation</label><input name="passwordConfirmation" type="password" class="form-control" id="passwordConfirmation" placeholder="••••••••••" data-ddg-testresultelementid="536413" data-manual-scoring="password">
                          <div class="invalid-feedback"></div>
                        </div>
                        <div class="form-group fullName">
                          <label for="fullName">Full Name</label><input id="fullName" autocomplete="off" aria_hidden="true" tabindex="-1" data-ddg-testresultelementid="536414" data-manual-scoring="fullName">
                        </div>
                        <div class="custom-control custom-checkbox">
                          <input name="newsletter" type="checkbox" class="custom-control-input" id="newsletter" value="true" title="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: I want to join the Roll20 Newsletter to stay up to date on the latest news. We'll also send you a fe
parseable name: newsletter
section: firstName_0_13
field signature: 1863460713
form signature: 8743517167259988113
form signature in host form: 8743517167259988113
field frame token: 0A55EDCB85C8DD824B6A0053C6BDDEAB
form renderer id: 4
field renderer id: 19" autofill-information="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: I want to join the Roll20 Newsletter to stay up to date on the latest news. We'll also send you a fe
parseable name: newsletter
section: firstName_0_13
field signature: 1863460713
form signature: 8743517167259988113
form signature in host form: 8743517167259988113
field frame token: 0A55EDCB85C8DD824B6A0053C6BDDEAB
form renderer id: 4
field renderer id: 19" autofill-prediction="UNKNOWN_TYPE" data-ddg-testresultelementid="536415"><label for="newsletter" class="custom-control-label">I want to join the
                            <span class="font-weight-bold">Roll20 Newsletter</span>
                            to stay up to date on the latest news. We'll also
                            send you a few tips to help you get the most out of
                            your games!</label><span class="small">(We'll never sell your email to anyone or send you
                            SPAM, promise)</span>
                          <div class="invalid-feedback"></div>
                        </div>
                        <div class="custom-control custom-checkbox">
                          <input name="termsOfService" type="checkbox" class="custom-control-input" id="termsOfService" value="false" title="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: I agree to the Roll20 Terms of Service
parseable name: termsOfService
section: firstName_0_13
field signature: 2485407312
form signature: 8743517167259988113
form signature in host form: 8743517167259988113
field frame token: 0A55EDCB85C8DD824B6A0053C6BDDEAB
form renderer id: 4
field renderer id: 20" autofill-information="overall type: UNKNOWN_TYPE
server type: NO_SERVER_DATA
heuristic type: UNKNOWN_TYPE
label: I agree to the Roll20 Terms of Service
parseable name: termsOfService
section: firstName_0_13
field signature: 2485407312
form signature: 8743517167259988113
form signature in host form: 8743517167259988113
field frame token: 0A55EDCB85C8DD824B6A0053C6BDDEAB
form renderer id: 4
field renderer id: 20" autofill-prediction="UNKNOWN_TYPE" data-ddg-testresultelementid="536416"><label for="termsOfService" class="custom-control-label">I agree to the Roll20
                            <a href="https://help.roll20.net/hc/en-us/articles/360037770793-Terms-of-Service-and-Privacy-Policy" target="_blank">Terms of Service</a></label>
                          <div class="invalid-feedback"></div>
                        </div>
                        <!---->
                        <div class="form-button mt-4">
                          <button class="btn btn-primary w-100" type="submit" id="createAccount">
                            <i class="fas fa-lock btn-icon" style="display: none"></i>
                            Create an Account
                          </button>
                          <div class="form-btn-or text-center my-2">or</div>
                          <button type="button" id="login-redirect" class="btn btn-secondary w-100">
                            <i class="fas fa-lock btn-icon"></i> Login
                          </button>
                        </div>
                      </form>
                    
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <div class="section-bg style-1">
          <div class="bg-element bg-element-1">
            <svg width="1440" height="448" viewBox="0 0 1440 448" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M1454.79 0c-.31 4.641.28 9.368 1.45 13.722.49 1.824 2.04 3.86 3.63 5.957 2.48 3.257 5.07 6.66 3.97 9.637-.23.616-1.73 1.788-2.86 2.675-.62.482-1.13.88-1.27 1.06-.94 1.218-1.46 2.552-1.98 3.887-.24.622-.48 1.244-.77 1.855-.64 1.374-.86 2.623-1.08 3.894-.2 1.118-.4 2.253-.89 3.502-.88 2.238-2.2 4.555-3.51 6.854-.91 1.599-1.82 3.188-2.57 4.738-4.59 9.473-4.5 19.982-4.41 30.02 0 .54.01 1.078.01 1.616.01 1.438.11 2.875.21 4.3.36 5.235.72 10.31-3.38 14.704-1.5 1.607-3.13 3.138-4.76 4.669-1.92 1.797-3.84 3.594-5.54 5.515-4.57 5.168-7.53 10.608-10.59 16.234-.67 1.239-1.35 2.488-2.05 3.745-3.7 6.628-9.11 12.886-14.58 18.704-10.6 11.298-24.44 12.885-41.1 14.796l-2.21.254c-10.34 1.199-12.89 8.031-15.44 14.837-2.17 5.805-4.33 11.591-11.31 13.845-7.1 2.292-11.41 4.561-16.85 8.768-.42.325-.9.704-1.41 1.116-3.57 2.854-9.14 7.313-13.25 6.859-2.21-.245-3.06-1.239-3.8-2.112-1.03-1.212-1.86-2.194-5.88-.631-4.07 1.583-7.07 5.084-9.88 8.375-1.31 1.527-2.57 3.009-3.89 4.234-.92.855-1.93 1.683-2.95 2.522-1.77 1.454-3.58 2.943-5.06 4.677-1.62 1.891-2.73 3.935-3.84 5.989-.59 1.086-1.18 2.176-1.84 3.247-1.08 1.718-2.38 3.348-3.69 4.976-1.53 1.913-3.06 3.822-4.2 5.866-3.54-1.066-6.29-6.509-7.72-9.329-.18-.373-.35-.701-.49-.966-2.06-3.869-3.68-7.829-5.31-11.792-1.09-2.672-2.19-5.346-3.42-7.995-3.1-.013-4.05 1.975-5.02 3.978-1.2 2.497-2.42 5.018-7.81 3.716-6.84-1.653-11.09-7.913-14.64-13.13-.97-1.435-1.89-2.791-2.8-3.95-4.33 1.881-6.44 5.05-6.35 9.51-2.03 6.072-4.69 11.96-7.98 17.672-1.64 3.054-3.48 6.02-5.32 8.986-1.67 2.682-3.33 5.364-4.85 8.113-5.65-.704-13.44 7.373-17.54 11.62-1 1.043-1.79 1.855-2.26 2.249-.6.497-1.42 1.229-2.41 2.114-5.49 4.881-16.2 14.424-23.37 14.926-2 .14-3.69.024-5.31-.086-3.06-.21-5.82-.399-9.7 1.219-7.45 3.107-14.7 8.986-19.4 14.336-3.05 3.456-5.38 7.114-7.71 10.757-1.76 2.752-3.52 5.496-5.57 8.138-5.21.449-10.36.699-15.3.691-1.27-.002-2.53-.006-3.78-.01-10.55-.033-20.95-.066-31.53 1.064l-1.71-3.318a276.58 276.58 0 00-5.39-13.805c-.38-.612-.75-1.341-1.16-2.12-1.65-3.19-3.73-7.21-8.08-7.45-5.23 3.797-9.3 8.763-13.36 13.725-3.18 3.88-6.35 7.758-10.08 11.073-6.222-1.034-9.605-4.617-10.156-10.745a362.563 362.563 0 01-13.74-26.925c-3.034 1.161-4.834 8.262-5.929 12.581-.313 1.236-.568 2.244-.779 2.82-5.636-.796-17.651-21.892-19.708-25.504-.177-.311-.28-.492-.299-.52-2.408-3.51-4.702-7.084-6.997-10.658-3.301-5.143-6.604-10.288-10.25-15.252-3.716.738-6.343 2.683-7.879 5.832a166.924 166.924 0 01-13.775 13.693c-3.799.396-5.397-2.211-7.004-4.833-1.036-1.689-2.075-3.384-3.709-4.286-3.095 2.609-5.675 5.567-8.251 8.52-1.353 1.551-2.705 3.102-4.13 4.599-.763.801-1.562 1.708-2.402 2.661-3.271 3.711-7.166 8.13-11.954 9.789-.673-.467-1.286-.968-1.895-1.466-1.172-.956-2.328-1.901-3.861-2.566-5.645 2.483-8.738 7.939-11.48 12.778-.734 1.296-1.443 2.547-2.17 3.685-3.767 5.905-7.248 11.906-10.73 17.908-2.975 5.13-5.95 10.259-9.105 15.328-.63 1.013-1.259 2.028-1.888 3.044-3.006 4.854-6.024 9.727-9.327 14.47-1.367.412-2.815 1.296-4.696 2.905a33.296 33.296 0 00-2.613 2.531c-1.127-3.176-2.125-6.379-3.124-9.581-1.458-4.678-2.916-9.356-4.773-13.947.02.051-.08-.131-.276-.484-1.601-2.897-9.602-17.372-10.209-10.974-2.212-.717-3.662-3.044-5.075-5.311-.975-1.564-1.932-3.1-3.11-4.058-2.491-2.027-5.233-3.539-7.894-5.007-4.315-2.381-8.416-4.643-10.89-8.791-1.314-2.201-6.731-11.019-11.817-10.778-4.915 2.084-9.246 4.77-12.996 8.057a213.707 213.707 0 01-20.022 15.211c-4.843 1.6-7.897.077-11.286-1.613-1.895-.944-3.895-1.941-6.37-2.474-6.15-1.324-14.207.173-20.046 1.293-8.455 1.621-12.893 6.231-17.76 11.287a153.945 153.945 0 01-3.016 3.076 439.024 439.024 0 01-4.853 4.676c-2.446 2.334-4.913 4.686-7.266 7.088-5.69-1.191-11.434-2.136-17.194-3.002-3.993-4.914-8.288-9.564-14.911-13.289-2.681 1.206-5.245 2.653-7.815 4.104-2.49 1.404-4.985 2.813-7.598 4.009-3.263-.778-6.53-1.738-9.802-2.7-5.516-1.621-11.048-3.246-16.609-4.013-7.017-.969-14.042-1.525-21.172-2.089-2.019-.16-4.045-.321-6.083-.491-6.571-.551-13.076-1.469-19.587-2.388-7.772-1.097-15.554-2.195-23.471-2.671-5.237-.315-10.402-.319-15.581-.322-2.939-.002-5.883-.004-8.847-.063-6.432-.127-15.361 1.757-14.459 9.427-4.198.865-8.601.925-13.039.986-4.543.062-9.122.125-13.556 1.052-3.111.651-6.177 1.731-9.246 2.813-4.367 1.538-8.74 3.078-13.256 3.388-1.58.108-3.237-.01-4.896-.128-3.149-.224-6.306-.449-8.959.87-4.572 2.271-7.702 6.498-10.777 10.649-1.962 2.648-3.901 5.266-6.176 7.325-3.111 2.817-4.939 2.746-8.571 2.604-.699-.027-1.464-.057-2.319-.07-4.664-.068-9.322-.068-13.979-.068-7.845 0-15.686 0-23.546-.325-14.863-.616-29.727-1.385-44.589-2.154-8.541-.442-17.081-.884-25.62-1.296-7.819-.378-15.619-1.16-23.417-1.941-9.919-.994-19.836-1.988-29.789-2.151-8.832-.145-15.843.319-24.064 2.576-4.839 1.328-9.002 3.574-13.263 5.872-2.031 1.095-4.084 2.203-6.242 3.228-3.465 1.646-6.389 4.365-9.319 7.089-4.03 3.746-8.072 7.503-13.545 8.494-4.22.762-10.718-1.425-14.115-3.616-1.397-.9-2.507-2.294-3.607-3.674-1.958-2.456-3.881-4.871-7.327-4.387-2.976.417-6.216 3.297-9.085 5.847-1.422 1.265-2.753 2.448-3.916 3.21l-.368.241c-6.741 4.424-16.253 10.666-24.48 12.143-.876.158-1.74.32-2.596.481-4.013.755-7.868 1.481-12.13 1.51-4.699.032-8.679 1.552-12.691 3.084-2.777 1.06-5.569 2.126-8.626 2.709-3.535.674-7.507.471-11.385.272-2.02-.103-4.014-.206-5.908-.182-2.49.031-4.65-.496-6.797-1.02-2.008-.49-4.003-.978-6.247-1.003-2.638-.029-3.75.642-5.21 1.525-.667.402-1.405.848-2.394 1.292-1.278.574-2.586.935-3.918 1.302-.856.237-1.723.476-2.598.776-2.359.809-4.29 2.056-6.212 3.297-1.473.951-2.942 1.899-4.595 2.645-7.021 3.17-16.22 6.803-23.964 6.758a241.08 241.08 0 00-1.435-.004c-4.255-.001-6.285-.002-9.915-2.427-3.082-2.06-6.387-3.547-9.818-5.091-.544-.245-1.092-.491-1.642-.741-1.583-.72-3.185-1.356-4.772-1.986-2.543-1.01-5.045-2.004-7.36-3.297-1.403-.785-2.705-1.607-3.985-2.416-2.148-1.356-4.233-2.673-6.637-3.712-1.013-.438-1.905-.864-2.737-1.26-2.962-1.412-5.152-2.456-9.28-2.408-3.06.036-6.122.022-9.184.008-1.617-.007-3.233-.015-4.85-.015l-9.804.002c-6.536.002-13.073.004-19.609-.002l-1.207.001c-4.679.008-8.515.014-12.997-1.708-.888-.341-1.685-.701-2.472-1.056a50.472 50.472 0 00-1.999-.868c-1.363-.547-2.286-1.161-3.214-1.779-.624-.415-1.25-.832-2.015-1.231-6.805-3.556-12.895.754-18.411 4.659-1.529 1.082-3.015 2.134-4.459 2.978-5.201 3.038-10.531 5.524-15.949 8.051-1.518.708-3.043 1.42-4.574 2.148-2.039.968-3.764 2.241-5.466 3.497-2.041 1.505-4.048 2.986-6.52 3.887-3.167 1.153-6.642 1.047-10.082.942a96.25 96.25 0 00-2.976-.061h-6.286c-2.612-.001-5.225-.002-7.837 0-4.779.004-8.089.635-12.243 1.427-.606.116-1.231.235-1.88.356-.971.182-2.085.265-3.259.329v48.607h1849V0h-146.21z" fill="#02041D"></path>
            </svg>
          </div>
          <div class="bg-element bg-element-2">
            <picture><source media="(max-width: 991px)" srcset="
                  https://cdn.roll20.net/production/app-landing/assets/a215e46b3217069e4b87c5978f9008f5.png
                ">
              <source media="(min-width: 992px)" srcset="
                  https://cdn.roll20.net/production/app-landing/assets/2ab4f72c980358b530a53c12d3a52bc1.png
                ">
              <img src="https://cdn.roll20.net/production/app-landing/assets/2ab4f72c980358b530a53c12d3a52bc1.png" alt="Shadowy demon figure standing behind rocks"></picture>
          </div>
          <div class="bg-element bg-element-3">
            <picture><source media="(max-width: 991px)" srcset="
                  https://cdn.roll20.net/production/app-landing/assets/b58800fec15dd0dc90fe8175b183680e.png
                ">
              <source media="(min-width: 992px)" srcset="
                  https://cdn.roll20.net/production/app-landing/assets/7d9b89007a9e490490bbc77b5490180d.png
                ">
              <img src="https://cdn.roll20.net/production/app-landing/assets/7d9b89007a9e490490bbc77b5490180d.png" alt="Minotaur silhouette behind rocks"></picture>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script type="text/javascript" src="https://cdn.roll20.net/production/app-landing/app_landing.latest.bundle.js"></script>

  <style>
    .bottom-banner {
      background-color: #fff;
      position: fixed;
      bottom: 40px;
      z-index: 9999;
      width: calc(100% - 30px);
      margin-left: 15px;
      box-shadow: 0px 0px 16px #888888;
      display: flex;
      align-items: center;
      justify-content: space-around;
    }

    .bottom-banner-css-version-v2 {
      border-left: 15px solid #ec008c;
    }
    .bottom-banner-css-version-v3 {
      border-left: 15px solid #35c8f5;
    }
    .bottom-banner-css-version-v2 .bottom-banner__button {
      background-color: #35c8f5;
    }
    .bottom-banner-css-version-v3 .bottom-banner__button {
      background-color: #ec008c;
    }

    .bottom-banner--hidden {
      display: none;
    }

    .bottom-banner__message {
      padding: 1em;
      float: left;
      font-size: 12px;
      line-height: 1.4;
    }

    .bottom-banner__dismiss-icon {
      float: right;
      padding: 10px;
      color: #d1d1d1;
      cursor: pointer;
      align-self: flex-start;
    }
    .bottom-banner__dismiss-icon:hover {
      color: #333333;
    }

    .bottom-banner__button,
    .bottom-banner__button:hover,
    .bottom-banner__button:visited,
    .bottom-banner__button:active {
      float: right;
      font-size: 16px;
      line-height: 1.6;
      border-radius: 4px;
      padding: 7px 15px 7px 15px;
      color: #fff !important;
      transition: all 0.25s linear;
      text-decoration: none;
    }
    .bottom-banner__button:hover {
      color: #fff;
    }

    .cookie-modal--hidden {
      display: none;
      position: fixed;
      z-index: 10001;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
    }

    .cookie-modal-content {
      background-color: var(--color-surface1);
      margin: 20% auto;
      padding: 20px;
      width: 40%;
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.6),
        0 6px 20px 0 rgba(0, 0, 0, 0.19);
    }

    .cookie-modal-content h3 {
      display: inline-block;
    }

    .cookie-modal-css-version-v3 {
      padding-top: 16px;
    }

    .cookie-modal_switch .switch {
      display: inline-block;
      float: right;
      margin-top: 30px;
      width: 60px;
    }
    .switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 26px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #8492a6;
      -webkit-transition: 0.3s;
      transition: 0.3s;
    }

    .slider:after {
      content: "Off";
      position: absolute;
      top: 50%;
      right: 11px;
      transform: translateY(-50%);
      color: #fff;
      font-family: helvetica;
      font-weight: bold;
      font-size: 13px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 20px;
      width: 20px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      -webkit-transition: 0.3s;
      transition: 0.3s;
    }

    input:checked + .slider {
      background-color: #00853c;
    }

    input:disabled + .slider {
      cursor: no-drop;
      background-color: #c2c7d1;
    }

    input:disabled + .slider:before {
      background-color: #dfe2e7;
    }

    input:focus + .slider {
      box-shadow: 0 0 5px #2196f3;
    }

    input:checked + .slider:before {
      -webkit-transform: translateX(33px);
      -ms-transform: translateX(33px);
      transform: translateX(33px);
    }

    input:checked + .slider:after {
      content: "On";
      right: auto;
      left: 11px;
    }

    /* Rounded sliders */
    .slider.round {
      border-radius: 26px;
      width: 60px;
    }

    .slider.round:before {
      border-radius: 50%;
    }
    .close {
      float: right;
      font-size: 20px;
      font-weight: bold;
      line-height: 18px;
      color: var(--color-grayscale1);
      text-shadow: 0 1px 0 #ffffff;
      opacity: 0.2;
      filter: alpha(opacity=20);
    }
    .close:hover {
      color: var(--color-grayscale1);
      text-decoration: none;
      opacity: 0.4;
      filter: alpha(opacity=40);
      cursor: pointer;
    }
  </style>

  <!--googleoff: all-->
  <div id="gdpr-notification" class="bottom-banner bottom-banner-css-version-v3">
    <div class="bottom-banner__message">
      Roll20 uses cookies to improve your experience on our site. Cookies enable
      you to enjoy certain features, social sharing functionality, and tailor
      message and display ads to your interests on our site and others. They
      also help us understand how our site is being used. By continuing to use
      our site, you consent to our use of cookies. Update your cookie
      preferences <a href="#" id="banner-link-preferences">here</a>.
    </div>
    <span class="bottom-banner__dismiss-icon" id="gdpr-notification-dismiss-button" aria-label="Close Cookie Toast">×</span>
  </div>

  <div id="cookie-modal" class="cookie-modal--hidden">
    <!-- Modal content -->
    <div class="cookie-modal-content cookie-modal-css-version-v3">
      <span class="close" id="cookie-modal-dismiss">×</span>
      <h3>Cookie Preferences</h3>
      <span class="cookie-modal_switch">
        <label class="switch">
          <input class="feature_toggle" id="cookie-modal-input" type="checkbox">
          <span class="slider round"></span> </label></span>
      <hr>

      We use Cookies to help personalize and improve Roll20. For more
      information on our use of non-essential Cookies, visit our Privacy Policy
      <a href="https://roll20.zendesk.com/hc/en-us/articles/360037770793-Terms-of-Service-and-Privacy-Policy" target="_blank">here.</a>
    </div>
  </div>
  <!--googleon: all-->

  <script src="https://www.datadoghq-browser-agent.com/datadog-rum.js" type="text/javascript"></script>
  <script type="text/javascript" nonce="">
    // TODO: tutorialstartjs.haml

    (function (i, s, o, g, r, a, m) {
      i["GoogleAnalyticsObject"] = r;
      (i[r] =
        i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        }),
        (i[r].l = 1 * new Date());
      (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m);
    })(
      window,
      document,
      "script",
      "//www.google-analytics.com/analytics.js",
      "ga"
    );

    ga("create", "UA-31040388-1", { cookieDomain: "auto" });

    window["ga-disable-UA-31040388-1"] = true;

    var gdprCookie = getCookie("gdpr_accepts_cookies");

    if (gdprCookie != undefined) {
      gdprCookie == "true" ? (gdprCookie = true) : (gdprCookie = false);
    }

    var gdprBanner = document.getElementById("gdpr-notification");
    var gdprBannerDissmissButton = document.getElementById(
      "gdpr-notification-dismiss-button"
    );
    var gdprLoggedIn = false;
    var gdprAccountAcceptsCookies = null;

    var cookieModal = document.getElementById("cookie-modal");
    var cookieModalClose = document.getElementById("cookie-modal-dismiss");
    var cookieModalSwitch = document.getElementById("cookie-modal-input");

    var bannerLinkPreferences = document.getElementById(
      "banner-link-preferences"
    );

    bannerLinkPreferences.onclick = function () {
      cookieModal.style.display = "block";
      hideGDPRBanner();
    };

    function setGDPRCookie(value, expirationInDays) {
      var date = new Date();
      date.setTime(date.getTime() + expirationInDays * 24 * 60 * 60 * 1000); //convert to milleseconds
      var expires = "expires=" + date.toUTCString();
      document.cookie =
        "gdpr_accepts_cookies=" +
        value +
        ";" +
        expires +
        ";path=/" +
        ";domain=.roll20.net";
    }

    function getCookie(cname) {
      var name = cname + "=";
      var ca = document.cookie.split(";");
      for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == " ") {
          c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length);
        }
      }
      return undefined;
    }

    function checkGdprStatus() {
      if (gdprLoggedIn == true) {
        checkAccountGdprCookieSettings();
      } else {
        checkPublicGdprCookieSettings();
      }
    }
    function checkAccountGdprCookieSettings() {
      var cookieExists = getCookie("gdpr_accepts_cookies");

      switch (cookieExists) {
        case "true":
          acceptCookies();
          break;
        case "false":
          denyCookies();
          break;
        case undefined:
          showGDPRBanner();
          acceptCookies();
          break;
      }
    }

    function checkPublicGdprCookieSettings() {
      console.log("Not logged in - checking cookie GDPR status");
      if (gdprCookie == undefined) {
        console.log("No GPDR Cookie Detected");
        showGDPRBanner();
        acceptCookies();
      } else if (gdprCookie == true) {
        console.log("GDPR Cookie Detected");
        acceptCookies();
      }
    }

    function turnOnGoogleAnalytics() {
      window["ga-disable-UA-31040388-1"] = false;
      ga("send", "pageview");
      if (window.dataLayer) {
        dataLayer.push({ event: "optedIn" });
      }
    }

    var showGDPRBanner = function () {
      gdprBanner.classList.remove("bottom-banner--hidden");
    };

    var hideGDPRBanner = function () {
      gdprBanner.classList.add("bottom-banner--hidden");
    };

    var updateUserAccount = function (account_id, value) {
      var xhr = new XMLHttpRequest();
      // need to get the below working for marketplace, compendium, landing (only works for app)
      xhr.open("PATCH", "/accounts/" + account_id, true);
      xhr.setRequestHeader(
        "Content-Type",
        "application/x-www-form-urlencoded; charset=UTF-8"
      );
      var cookieValue = "account[gdpr_accepts_cookies]=" + value;
      xhr.send(cookieValue);
    };

    var acceptCookies = function () {
      setGDPRCookie(true, 365);

      turnOnGoogleAnalytics();
      turnOnDataDogRUM();
      // hideGDPRBanner();
      document.getElementById("cookie-modal-input").checked = true;
    };

    var denyCookies = function () {
      setGDPRCookie(false, 365);
    };

    var toggleCookie = function () {
      var switchChecked = document.getElementById("cookie-modal-input").checked;
      setGDPRCookie(switchChecked, 365);
    };

    var showCookieModal = function () {
      cookieModal.style.display = "block";
    };
    var closeCookieModal = function () {
      cookieModal.style.display = "none";
    };

    if (gdprCookie == true || gdprAccountAcceptsCookies == true) {
      document.getElementById("cookie-modal-input").checked = true;
    }

    gdprBannerDissmissButton.addEventListener("click", hideGDPRBanner);
    cookieModalClose.addEventListener("click", closeCookieModal);
    cookieModalSwitch.addEventListener("click", toggleCookie);

    checkGdprStatus();

    function vttSampleRate() {
      const sampleRate = 0;
      if (sampleRate > 5) return sampleRate;
      return 5;
    }

    function experiment({ chatTech }) {
      return chatTech === "simple-peer";
    }

    function staging({ hostName }) {
      return hostName === "roll20staging.net";
    }

    function ddSampleRate(opts) {
      if (experiment(opts)) return 100;
      return staging(opts) ? 100 : vttSampleRate();
    }

    function turnOnDataDogRUM() {
      var tmplMeta = {
        chatTech: "",
        hostName: "roll20.net",
        version: "23.3.15",
      };
      var sampleRate = ddSampleRate(tmplMeta);
      window.DD_RUM &&
        window.DD_RUM.init({
          applicationId: "95ddf222-5b92-4a62-803a-185cdd723c8b",
          clientToken: "pub3fb1f7cf273c5d345be974e50be0dfda",
          site: "datadoghq.com",
          service: "d20app",
          sampleRate,
          trackInteractions: true,
          version: tmplMeta.version,
        });
    }
  </script>

  <script type="text/javascript">
    // Sets a browser cookie, but only allows true or false flags
    function setCookie(name, value, expirationInDays) {
      if (value == true || value == false) {
        let date = new Date();
        date.setTime(date.getTime() + expirationInDays * 24 * 60 * 60 * 1000); //convert to milleseconds
        const expires = `expires=${date.toUTCString()}`;
        document.cookie = `${name}=${value};${expires};path=/;domain=.roll20.net`;
      } else {
        return undefined;
      }
    }

    // Gets a browser cookie value
    function getCookie(cname) {
      let name = cname + "=";
      let ca = document.cookie.split(";");
      for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == " ") {
          c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length);
        }
      }
      return undefined;
    }

    function checkCookieFlag(name) {
      let flag = getCookie(name);
      if (flag != undefined) {
        flag == "true" ? (flag = true) : (flag = false);
      }
      return flag;
    }
  </script>

  <iframe name="__privateStripeMetricsController8940" frameborder="0" allowtransparency="true" scrolling="no" role="presentation" allow="payment *" src="https://js.stripe.com/v3/m-outer-93afeeb17bc37e711759584dbfc50d47.html#url=https%3A%2F%2Fapp.roll20.net%2Fcreate-account&amp;title=Roll20%3A%20Online%20virtual%20tabletop%20for%20pen%20and%20paper%20RPGs%20and%20board%20games&amp;referrer=&amp;muid=NA&amp;sid=NA&amp;version=6&amp;preview=false" aria-hidden="true" tabindex="-1" style="
      border: none !important;
      margin: 0px !important;
      padding: 0px !important;
      width: 1px !important;
      min-width: 100% !important;
      overflow: hidden !important;
      display: block !important;
      visibility: hidden !important;
      position: fixed !important;
      height: 1px !important;
      pointer-events: none !important;
      user-select: none !important;
    "></iframe><iframe name="__privateStripeController8941" frameborder="0" allowtransparency="true" scrolling="no" role="presentation" allow="payment *" src="https://js.stripe.com/v3/controller-233c803c7403800caf19b4e5784b2c8a.html#apiKey=pk_PKNhCNY3rSBBMk2zKeJIdbTEzIult&amp;stripeJsId=6522305f-0a75-4ddd-943c-4607d9d25eec&amp;stripeJsLoadTime=1678933625662&amp;referrer=https%3A%2F%2Fapp.roll20.net%2Fcreate-account&amp;controllerId=__privateStripeController8941" aria-hidden="true" tabindex="-1" style="
      border: none !important;
      margin: 0px !important;
      padding: 0px !important;
      width: 1px !important;
      min-width: 100% !important;
      overflow: hidden !important;
      display: block !important;
      visibility: hidden !important;
      position: fixed !important;
      height: 1px !important;
      pointer-events: none !important;
      user-select: none !important;
    "></iframe>

